= Disabling the graphical Network Manager and configuring networking from the command line =

NOTE! You may lose network connectivity during this process! Have a backup plan if attempting over SSH!<br>
<br>
Stop Network Manager:<br>
{{{sudo /etc/init.d/network-manager stop}}}<br>
<br>
Prevent Network Manager from starting at next boot:<br>
{{{sudo mv /etc/init/network-manager.conf /etc/init/network-manager.conf.DISABLED}}}<br>
<br>
Configure your network interfaces in /etc/network/interfaces.  You'll want a management interface (using either static IP *or* DHCP) and one or more sniffing interfaces.  Offloading functions should be disabled to ensure that Snort/Suricata get an accurate view of the traffic:<br>
{{{
auto lo
iface lo inet loopback

# Management interface DHCP
auto eth0
iface eth0 inet dhcp
  post-up ethtool -K $IFACE tx off rx off tso off gso off gro off

# OR if using STATIC IP instead of DHCP
auto eth0
iface eth0 inet static
  address 192.168.1.14
  gateway 192.168.1.1
  netmask 255.255.255.0
  network 192.168.1.0
  broadcast 192.168.1.255
  post-up ethtool -K $IFACE tx off rx off tso off gso off gro off

# Connected to TAP or SPAN port for all Internet traffic
auto eth1
iface eth1 inet manual
  up ifconfig $IFACE -arp up
  up ip link set $IFACE promisc on
  down ip link set $IFACE promisc off
  down ifconfig $IFACE down
  post-up ethtool -K $IFACE tx off rx off tso off gso off gro off

}}}
If necessary, configure DNS in /etc/resolv.conf.<br>
<br>
Restart networking:<br>
{{{sudo /etc/init.d/networking restart}}}<br>
<br>
If you already had sensors running on these interfaces, you should restart them:<br>
{{{sudo nsm_sensor_ps-restart}}}<br>
<br>
For more information, please see:<br>
<a href="https://help.ubuntu.com/community/NetworkConfigurationCommandLine/Automatic">https://help.ubuntu.com/community/NetworkConfigurationCommandLine/Automatic</a><br>
<a href="http://manual.snort.org/node7.html">http://manual.snort.org/node7.html</a>
}}}