#summary Frequently Asked Questions

= What's the recommended procedure for installing Security Onion? =

- Boot the ISO and select Install (either from the boot menu or from the Live desktop).<br>
- Follow the prompts in the installer.  When asked about partitioning, you should create a dedicated /nsm partition and assign a good amount of disk space to it since this partition will be storing full packet captures.<br>
- Reboot into your new installation and login with the credentials you
specified in the installer.<br>
- Set the OS timezone to UTC using the following commands:<br>
echo "Etc/UTC" | sudo tee /etc/timezone<br>
sudo dpkg-reconfigure --frontend noninteractive tzdata<br>
- If you're behind a proxy, configure your proxy settings as shown below.<br>
- Install Ubuntu updates using the Update Manager in the upper right corner.  You may also want to configure Ubuntu to automatically install updates:<br>
https://help.ubuntu.com/community/AutomaticSecurityUpdates<br>
- Install Security Onion updates as shown below.<br>
- Double-click the Setup shortcut and follow the prompts.<br>
- If you have Internet access, create an IDS alert by opening a terminal and typing the following:<br>
curl http://testmyids.com<br>
- Use Sguil or Squert to manage your IDS alerts.<br>

= What do I need to do if I'm behind a proxy? =

Put your proxy server settings in /etc/environment like this:<br>
export http_proxy=https://server:port<br>
export https_proxy=https://server:port<br>
export ftp_proxy=https://server:port<br>

If you're going to run something using sudo, remember to use the "-i" option to force it to process the environment variables.  For example:<br>
sudo -i bash /path/to/security-onion-upgrade.sh<br>

= How do I install Security Onion updates? =

If you're behind a proxy server, make sure that you've configured your proxy server settings as shown above.  Then run the following command (note that it's all one line):

sudo -i "curl -L http://sourceforge.net/projects/security-onion/files/security-onion-upgrade.sh > ~/security-onion-upgrade.sh && bash ~/security-onion-upgrade.sh"

= What is the root password? =

Like other Ubuntu-based distributions, there is no root password.  Your default user account has been given sudo permissions.  Graphical utilities requesting administrative access should prompt for password; enter your user password. Command-line utilities that require administrative access can be prefixed with "sudo". For example, to add a user:<br>
sudo adduser mynewuseraccount

= What is the Squert password? =

Squert authenticates against the Sguil username database, so you should be able to login to Squert using the same username/password you use to login to Sguil.

= What is the MySQL password? =

Security Onion has a blank MySQL password to allow the NSMnow administration scripts to add/delete sensors properly.  MySQL only allows connections from localhost.  Once you've run through Setup and configured your sensors, you might want to change the MySQL password.

= Why is my disk filling up? =
Sguil uses Snort to record full packet captures to disk.  These pcaps are stored in /nsm/sensor_data/NAME_OF_SENSOR/dailylogs/.  There is a cronjob at /etc/cron.d/sensor-newday that should delete old pcaps when the disk reaches 90% of capacity.  However, if the OS timezone is NOT set to UTC, this script may not be purging correctly.  Make sure your OS timezone is set to UTC.<br>

= How do I set the OS timezone to UTC? =
echo "Etc/UTC" | sudo tee /etc/timezone<br>
sudo dpkg-reconfigure --frontend noninteractive tzdata<br>

= What to I need to modify in order to have the log files stored on a different mount point? =

There are two ways to do this:<br>
- Mount a separate drive to /nsm.  This can be done in the Ubuntu installer or after installation is complete.<br>
OR<br>
- Make /nsm a symlink to the new logging location.  If you do this, you'll need to do the following to avoid AppArmor issues:<br>
 - go to /etc/apparmor.d<br>
 - edit usr.sbin.mysqld, copy the nsm line, and change /nsm to the new location<br>
 - edit usr.sbin.tcpdump, copy the nsm line, and change /nsm to the new location<br>
 - service apparmor restart<br>

= How do I configure Sguil to send alerts via email? =
<a href="http://nsmwiki.org/Sguil_FAQ#Can_sguil_page_me_when_it_sees_a_particular_alert.3F">http://nsmwiki.org/Sguil_FAQ#Can_sguil_page_me_when_it_sees_a_particular_alert.3F</a>

= How do I change the fonts in the Sguil client? =

In the Sguil client, click the File menu and then go to "Change Font".  You can change both the Standard and Fixed fonts.  Fonts are a personal issue, but I like the following:<br>
Standard: Liberation Sans, size 8<br>
Fixed: Liberation Mono, size 8<br>

= How do I boot Security Onion to text mode (CLI instead of GUI)? =

From <a href="http://ubuntuforums.org/showthread.php?t=1690118">http://ubuntuforums.org/showthread.php?t=1690118</a>:

In /etc/default/grub, change this line:<br>
GRUB_CMDLINE_LINUX_DEFAULT="splash quiet"<br>
to:<br>
GRUB_CMDLINE_LINUX_DEFAULT="text"<br>

Run sudo update-grub when done. This is easily reversed too if you need to change back.

= How do I get Security Onion to recognize more then 4GB of RAM? =
Install the PAE kernel as described here:
<a href="https://help.ubuntu.com/community/EnablingPAE">https://help.ubuntu.com/community/EnablingPAE</a>

= Where do I send questions/problems/suggestions? =

The Security Onion mailing list is provided by Google Groups.  You can send email to:<br>
<a href="mailto:security-onion@googlegroups.com">security-onion@googlegroups.com<br>
OR<br>
click here:<br>
<a href="http://groups.google.com/group/security-onion">Security Onion Mailing List</a>