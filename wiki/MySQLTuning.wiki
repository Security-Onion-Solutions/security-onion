#summary Tuning suggestions for MySQL

= mysqltuner =

Run mysqltuner to get some initial recommendations:
{{{
# Install mysqltuner if you haven't already
sudo apt-get install mysqltuner

# Run mysqltuner
sudo mysqltuner
}}}

= /etc/mysql/my.cnf vs /etc/mysql/conf.d/ =

Implement mysqltuner's recommendations in /etc/mysql/my.cnf or create a new file in /etc/mysql/conf.d/ with the changes.  We recommend /etc/mysql/conf.d/ so that your changes don't get overwritten during MySQL package upgrades.

= Restart MySQL =
Changes don't take effect until MySQL is restarted and you should ensure that Sguil and other services aren't using MySQL before shutting it down.

= Variables =

The first variable that you'll probably need to tune is open-files-limit:
<a href="https://code.google.com/p/security-onion/wiki/FAQ#I_get_periodic_MySQL_crashes_and/or_error_code_24_\"out_of_r">error_code_24 out-of-resources</a>

Here are some other common variables that will probably need to be tuned for your system:

  * table_cache
  * key_buffer
  * max_connections

= MySQL slow to start on boot =

At boot time, MySQL checks all tables, which can take a long time.  If you wish to disable this check, comment out "check_for_crashed_tables" in /etc/mysql/debian-start.