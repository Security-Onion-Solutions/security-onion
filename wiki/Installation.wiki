#summary Security Onion Installation Procedure

= Please read the following before downloading! =

= What's the recommended procedure for installing Security Onion? =

- If you're just evaluating Security Onion, the short answer is:<br>
  # <a href="http://sourceforge.net/projects/security-onion/files/">Download</a>, verify, and boot the ISO image.<br>
  # Run through the Xubuntu installer.<br>
  # Reboot into your new installation and double-click the Setup shortcut.  Follow the prompts.<br>
  # Analyze alerts using Sguil, Squert, or Snorby.<br>
<br>
- If you're going to be deploying Security Onion in production, the longer answer is as follows.<br>
<br>
  # <a href="http://sourceforge.net/projects/security-onion/files/">Download the most recent Security Onion ISO image from here</a> (you may have to scroll to the bottom of the page).<br>
  # Verify the MD5 and/or SHA1 checksums of the downloaded ISO image. There is an accompanying .md5 file or you can use the MD5/SHA1 checksums that Sourceforge displays when clicking the Information button.<br>
  # (If deploying a master server and one or more slave sensors, you'll need to perform the remaining steps on the server and all sensors, but make sure you install/configure the master first.)<br>
  # Boot the ISO and select Install (either from the boot menu or from the Live desktop).<br>
  # Follow the prompts in the installer.  When asked about partitioning, there are a few things to keep in mind:
    * If you have more than 2TB of disk space, you will probably want to create a dedicated /boot partition at the beginning of the disk to ensure that you don't have any Grub booting issues.  
    * You may want to put /nsm on a dedicated partition/disk and assign a good amount of disk space since it will be storing full packet captures.  
    * Full packet capture can fill a disk quickly, so we have an hourly cronjob that purges old pcaps once the disk reaches 90% capacity.  However, if you have a small disk and/or are monitoring a large amount of traffic, you may fill that last 10% before the next hourly purge.  Therefore, the total disk space for the partition where /nsm is located should be AT LEAST 10X your average hourly network traffic to avoid issues.  
    * The more disk space you have, the more log retention you'll have for doing investigations after the fact.  
    * Disk is cheap, get all you can!<br>
  # Reboot into your new installation and login with the credentials you specified in the installer.<br>
  # <a href="http://code.google.com/p/security-onion/wiki/NetworkConfiguration">Configure networking.</a><br>
  # If you're behind a proxy, <a href="http://code.google.com/p/security-onion/wiki/Proxy">configure your proxy settings</a>.<br>
  # If your machine has more than 4GB of RAM, <a href="https://help.ubuntu.com/community/EnablingPAE">install the PAE kernel</a>.<br>
  # Install Ubuntu updates using the Update Manager in the upper right corner and reboot if necessary.  <a href="http://code.google.com/p/security-onion/wiki/tcl">tcl/tk updates are on hold and you should NOT attempt to manually install any tcl/tk updates!</a>  You may want to <a href="https://help.ubuntu.com/community/AutomaticSecurityUpdates">configure Ubuntu to automatically install updates</a>.  <br>
  # <a href="http://code.google.com/p/security-onion/wiki/Upgrade">Install Security Onion updates</a>.<br>
  # Double-click the Setup shortcut on the Desktop and follow the prompts.  If this is a sensor that will report to a master server, then Setup will prompt you for an SSH account on the master server that has sudo privileges.  Consider creating a separate SSH account on the master server for each sensor so that if a sensor is ever compromised, its individual account can be disabled without affecting the other sensors.<br>
  # If you have Internet access, create an IDS alert by typing the following at a terminal:<br>
{{{
curl http://testmyids.com
}}}
  # Login to Sguil, Squert, or Snorby and review your IDS alerts.  Use the additional NSM data types in Sguil and Bro logs for in-depth analysis.<br>
  # If necessary, add new Sguil user accounts with the following (when prompted, enter "securityonion" as the server name):<br>
{{{
sudo /usr/local/sbin/nsm_server_user-add
}}}
  # Full-time analysts may wish to run Security Onion in a VM on their workstation, then launch the Sguil client and connect to the IP/hostname of their production Sguil sensor.  
  # To change the resolution of your Security Onion VM, install the Virtual Tools for your virtualization solution or use xrandr.  For a list of available screen resolutions, simply execute "xrandr".  To set the screen resolution (replace W and H with the actual Width and Height desired):
{{{
xrandr -s WxH
}}}