#summary Security Onion Upgrade Procedure

= Security Onion 12.04 Update Procedure =

We recommend using the "soup" script (see http://securityonion.blogspot.com/2013/08/new-securityonion-packages.html) to automatically install updates while avoiding the MySQL/PF_RING issues described below.
{{{
sudo soup
}}}

Since all of our packages are in a standard Ubuntu Launchpad PPA, you can use standard Ubuntu package management tools to update ALL packages (Ubuntu and Security Onion).  However, there are some caveats to be aware of:

  * MySQL - if you've already run Setup, please see the [MySQLUpdates recommended procedure for updating the MySQL packages].

  * PF_RING and new kernel packages
You may be prompted to update your kernel packages and PF_RING at the same time.  If you do so, the PF_RING kernel module will get built for your current kernel and not for the newly installed kernel and upon reboot services will fail.  To avoid this, you should install just the PF_RING kernel module by itself and then install the kernel and any other remaining package updates.  Here's a one-liner that will do that: 
{{{
sudo apt-get update ; sudo apt-get install securityonion-pfring-module ; sudo apt-get dist-upgrade
}}}
If you accidentally install both the kernel and PF_RING packages at the same time and then reboot and find out that PF_RING services (Snort and Suricata) are failing, you can reinstall the securityonion-pfring-module package:
{{{
sudo apt-get install --reinstall securityonion-pfring-module
}}}

= Security Onion 10.04 Update Procedure =

If you're behind a proxy server, make sure that you've configured your proxy server settings as shown <a href="http://code.google.com/p/security-onion/wiki/Proxy">here</a>.  Then run the following command (be sure to copy the entire line):
{{{
sudo -i "curl -L http://sourceforge.net/projects/security-onion/files/security-onion-upgrade.sh > ~/security-onion-upgrade.sh && bash ~/security-onion-upgrade.sh"
}}}

== Please note there is no in-place upgrade from Security Onion 10.04 to Security Onion 12.04 since most folks will be migrating from 32-bit to 64-bit.==